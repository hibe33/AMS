<div *ngIf="loading" class="global-lock-overlay">
    <div class="d-flex justify-content-center align-content-center h-100">
        <div class="d-flex flex-column justify-content-center align-content-center">
            <mat-spinner></mat-spinner>
            <div class="lead text-light mt-2">Logging in...</div>
        </div>
    </div>
</div>

<div class="container">
    <div class="mt-4">
        <form #articleLoad="ngForm" (ngSubmit)="onClickSubmit(articleLoad.value)" >
            <div class="d-flex flex-column">
                <p class="display-4">Load Article</p>
                <div class="mt-4">
                    <h1 class="font-weight-lighter">Personal Information</h1>
                    <hr>
                </div>
                <div class="d-flex flex-column">
                    <div class="row d-sm-flex-column">
                        <mat-form-field class="col-md-6 col-sm-12" appearance="outline">
                            <mat-label>First Name</mat-label>
                            <input ngModel name="firstName" type="text" matInput required [errorStateMatcher]="matcher">
                            <mat-icon matSuffix class="text-danger">*</mat-icon>
                            <mat-error *ngIf="requiredFormControl.hasError('required')">
                                First Name is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="col-md-6 col-sm-12" appearance="outline">
                            <mat-label>Last Name</mat-label>
                            <input ngModel name="lastName" type="text" matInput required [errorStateMatcher]="matcher">
                            <mat-icon matSuffix class="text-danger">*</mat-icon>
                            <mat-error *ngIf="requiredFormControl.hasError('required')">
                                Last Name is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row d-sm-flex-column">
                        <mat-form-field class="col-md-6 col-sm-12" appearance="outline">
                            <mat-label>Email</mat-label>
                            <input ngModel name="email" type="email" matInput required [errorStateMatcher]="matcher" placeholder="Ex. pat@example.com">
                            <mat-icon matSuffix class="text-danger">*</mat-icon>
                            <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                            Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="emailFormControl.hasError('required')">
                            Email is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="col-md-6 col-sm-12" appearance="outline">
                            <mat-label>Phone</mat-label>
                            <input ngModel name="phone" type="number" matInput required [errorStateMatcher]="matcher">
                            <mat-icon matSuffix class="text-danger">*</mat-icon>
                            <mat-error *ngIf="requiredFormControl.hasError('required')">
                                Phone is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="mt-4">
                        <h1 class="font-weight-lighter">Article</h1>
                        <hr>
                    </div>
                    
                    <mat-form-field appearance="outline">
                        <mat-label>Title</mat-label>
                        <input ngModel name="title" type="text" matInput required>
                        <mat-icon matSuffix class="text-danger">*</mat-icon>
                    </mat-form-field>

                    <div class="border p-3 load-file-area" >
                        <p class="lead">Choose And Load Article</p>
                        <div class="form-group">
                            <input ngModel name="articleFile" type="file" class="form-control-file" (change)="handleFileInput($event)" id="exampleFormControlFile1">
                        </div>
                        <div class="mt-3">
                            <mat-hint align="start" [ngClass]="{'text-danger': !didUploadedPdfFile}"><strong><mat-icon>picture_as_pdf</mat-icon> Just upload pdf files</strong> </mat-hint>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h1 class="font-weight-lighter">Extras</h1>
                        <hr>
                    </div>
                    <mat-form-field appearance="outline">
                        <mat-label>Comment</mat-label>
                        <textarea ngModel name="extras" #message matInput maxlength="700" rows="5" placeholder="Ex. It makes me feel..."></textarea>
                        <mat-hint align="start"><strong>Don't disclose personal info</strong> </mat-hint>
                        <mat-hint align="end">{{message.value.length}} / 700</mat-hint>
                    </mat-form-field>
                </div>
                <button mat-raised-button color="primary" class="mt-4 mb-4" type="submit">Submit</button>
            </div>
        </form>

    </div>
</div>